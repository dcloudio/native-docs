## 注意
1.在工程中搜索 feature.plist 文件（位于PandoraApi.bundle中),在 Push 节点下,确保和下图所示一样

![](https://native-res.dcloud.net.cn/images/uniapp/push/unipush-feature-plist.png)

可直接复制下面对应的值替换，避免手动输入错误

```
<key>Push</key>
	<dict>
		<key>autostart</key>
		<true/>
		<key>baseclass</key>
		<string>PGPush</string>
		<key>class</key>
		<string>PGPushActualize</string>
		<key>global</key>
		<true/>
		<key>server</key>
		<dict>
			<key>class</key>
			<string>PGPushServerAct</string>
			<key>identifier</key>
			<string>com.pushserver</string>
		</dict>
	</dict>
```

**注意：uniPush 1.0 和 uniPush2.0的是不同的服务 具体请查看** [uniPush](https://uniapp.dcloud.net.cn/unipush.html) 

## uniPush
### 将uniPush模块依赖库及资源添加到工程
### Add uniPush module dependent libraries and resources to the project

|依赖库|系统库|依赖资源|
|Dependent Libraries|System Libraries|Dependent Resources|
|:--|:--|:--|
|liblibPush.a、libUniPush.a、GTSDK.xcframework|libc++.tbd、libsqlite3.tbd、libz.tbd、libresolv.tbd、UserNotifications.framework、Security.framework、MobileCoreServices.framework、SystemConfiguration.framework、CoreLocation.framework、AVFoundation.framework、CoreTelephony.framework、|无|

**注意： UserNotifications.framework 需要设置为Optional **
**Note: UserNotifications.framework needs to be set to Optional**

### 帐号配置
### Account Configuration
1. 在 [开发者后台](https://dev.dcloud.net.cn/) 找到对应App，获取appid 等信息
1. Find the corresponding App in [Developer Backstage](https://dev.dcloud.net.cn/) to obtain appid and other information
2. 在工程的 info.plist 中添加 "getui" 字段，并填写如下信息
2. Add the "getui" field in the project's info.plist and fill in the following information

![](https://img.cdn.aliyun.dcloud.net.cn/nativedocs/5SDKiOS/push/28612.png)


## 个推推送
## push push

### 将个推推送模块依赖库及资源添加到工程
### Add push module dependencies and resources to the project

|依赖库|系统库|依赖资源|
|Dependent Libraries|System Libraries|Dependent Resources|
|:--|:--|:--|
|liblibPush.a、libGeTuiPush.a、GTSDK.xcframework|libc++.tbd、libsqlite3.tbd、libz.tbd、libresolv.tbd、UserNotifications.framework、Security.framework、MobileCoreServices.framework、SystemConfiguration.framework、CoreLocation.framework、AVFoundation.framework、CoreTelephony.framework、|无|

**注意： UserNotifications.framework 需要设置为Optional **
**Note: UserNotifications.framework needs to be set to Optional**

### 帐号配置
### Account Configuration
1. 在 [个推官网](https://dev.getui.com/) 申请App，获取appid 等信息
1. Apply for the app on [Getui official website](https://dev.getui.com/) and get appid and other information
2. 在工程的 info.plist 中添加 "getui" 字段，并填写如下信息
2. Add the "getui" field in the project's info.plist and fill in the following information

![](https://img.cdn.aliyun.dcloud.net.cn/nativedocs/5SDKiOS/push/28612.png)


## Google Cloud Message （3.3.7+ 新增）
## Google Cloud Message (new in 3.3.7+)
### 将FCM模块依赖库及资源添加到工程
### Add FCM module dependent libraries and resources to the project


|依赖库|系统库|依赖资源|
|Dependent Libraries|System Libraries|Dependent Resources|
|:--:|:--:|:--:|
|liblibPush.a<br>libFCMPush.a<br>FirebaseCore.xcframework,<br>FirebaseCoreDiagnostics.xcframework<br>FirebaseInstallations.xcframework,<br>GoogleDataTransport.xcframework<br>GoogleUtilities.xcframework<br>PromisesObjC.xcframework<br>nanopb.xcframework<br>FirebaseMessaging.xcframework|UserNotifications.framework|GoogleService-Info.plist|



### 帐号配置
### Account Configuration
1. 在 [Firebase官网](https://firebase.google.com/) 创建新项目或找到已创建项目
1. Create a new project or find an existing project on [Firebase official website](https://firebase.google.com/)
2. 下载Firebase生成的 `GoogleService-Info.plist` 加到工程中
2. Download `GoogleService-Info.plist` generated by Firebase and add it to the project



<!-- 
 ## 小米推送配置
 ## Xiaomi push configuration
注: Linker Flags、framework添加方法参考该[文档](/AppDocs/usemodule/iOSModuleConfig/common.md)
Note: Linker Flags, framework add method refer to this [document](/AppDocs/usemodule/iOSModuleConfig/common.md)
1. 依次添加下列Linker Flags:-lXiaomiPush,-lMiPushSDK
1. Add the following Linker Flags in turn: -lXiaomiPush, -lMiPushSDK
2. 添加下列framework:libresolv.tbd, libxml2.tbd,libz.tbd,SystemConfiguration.framework,MobileCoreServices.framework,CFNetwork.framework,CoreTelephony.framework,
2. Add the following frameworks: libresolv.tbd, libxml2.tbd, libz.tbd, SystemConfiguration.framework, MobileCoreServices.framework, CFNetwork.framework, CoreTelephony.framework,

### 帐号配置
### Account Configuration
1.首先到小米申请appkey等信息,查看该[文档](http://ask.dcloud.net.cn/article/34)
1. First go to Xiaomi to apply for appkey and other information, and check the [document](http://ask.dcloud.net.cn/article/34)

2.打开info.plist，找到"MiSDKAppID"项，填入自己小米推送帐号的的APPID，如果没有该项，按照图中的格式创建
2. Open info.plist, find the "MiSDKAppID" item, and fill in the APPID of your Mi Push account. If there is no such item, create it according to the format in the picture
找到"MiSDKAppKey"项，填入自己小米推送帐号的的appKey，如果没有该项，按照图中的格式创建
Find the "MiSDKAppKey" item, fill in the appKey of your Mi Push account, if there is no such item, create it according to the format in the picture

3 小米推送调试/发布时需要设置不同的MiSDKRun值 调试证书对应值设置为“debug”，生产证书对应值设置为“online”，可参考[小米推送文档](https://dev.mi.com/console/doc/detail?pId=98#_1_1)
3 Different MiSDKRun values need to be set for Xiaomi push debugging/release. /console/doc/detail?pId=98#_1_1)

![](https://img.cdn.aliyun.dcloud.net.cn/nativedocs/5SDKiOS/push/28604.jpeg)
 -->
### 申请带APNS功能的profile文件(缺少该项将导致后台收不到推送)
### Apply for a profile file with APNS function (the lack of this item will cause the background to not receive push)
1.创建应用程序ID
1. Create an App ID
登陆iOS Dev Center选择进入iOS Provisioning Portal。
Log in to the iOS Dev Center and choose to enter the iOS Provisioning Portal.
在Certificates，Identifiers &Profiles中，点iOS Apps的任何一项进入
In Certificates, Identifiers & Profiles, click any item of iOS Apps to enter
在iOS Provisioning Portal中，点击App IDs进入App ID列表。
In the iOS Provisioning Portal, click App IDs to enter the App ID list.
创建App ID，如果ID已经存在可以直接跳过此步骤
Create an App ID, if the ID already exists, you can skip this step directly

![](https://img.cdn.aliyun.dcloud.net.cn/nativedocs/5SDKiOS/push/28610.png)

为App开启Push Notification功能。如果是已经创建的App ID也可以通过设置开启Push Notification功能。
Enable the Push Notification function for the app. If it is an App ID that has already been created, you can also enable the Push Notification function through the settings.

![](https://img.cdn.aliyun.dcloud.net.cn/nativedocs/5SDKiOS/push/28609.png)

根据实际情况完善App ID信息并提交,注意此处需要指定具体的Bundle ID不要使用通配符。
Complete the App ID information according to the actual situation and submit it. Note that you need to specify a specific Bundle ID here and do not use wildcards.

![](https://img.cdn.aliyun.dcloud.net.cn/nativedocs/5SDKiOS/push/28607.png)

2.  重新生成新的profile,下载到本地双击导入，并在Code signing 配置中选择该profile文件
2. Regenerate a new profile, download it locally, double-click to import, and select the profile file in the Code signing configuration

![](https://img.cdn.aliyun.dcloud.net.cn/nativedocs/5SDKiOS/push/28605.png)


### 生成APNS证书并上传到uniPush或个推平台(缺少该项将导致后台收不到推送)
### Generate an APNS certificate and upload it to uniPush or a push platform (the lack of this item will cause the background to not receive the push)
 如果你之前没有创建过Push证书或者是要重新创建一个新的，请在证书列表下面新建。 
 If you have not created a Push certificate before or want to create a new one, please create a new one under the certificate list.
新建证书需要注意选择证书种类（开发证书用于开发和调试使用，生产证书用于App Store发布）
When creating a new certificate, you need to pay attention to selecting the type of certificate (development certificate is used for development and debugging, production certificate is used for App Store release)

![](https://img.cdn.aliyun.dcloud.net.cn/nativedocs/5SDKiOS/push/28608.png)

点击Continue后选择证书对应的应用ID，然后继续会出现“About Creating a Certificate Signing Request (CSR)”
After clicking Continue, select the application ID corresponding to the certificate, and then continue to appear "About Creating a Certificate Signing Request (CSR)"

![](https://img.cdn.aliyun.dcloud.net.cn/nativedocs/5SDKiOS/push/28603.png)


根据它的说明创建Certificate Signing Request。
Create a Certificate Signing Request according to its instructions.

![](https://img.cdn.aliyun.dcloud.net.cn/nativedocs/5SDKiOS/push/28611.png)


然后点击Continue ，上传刚刚生成的 .certSigningRequest文件 点”generate”生成APNs Push Certificate。
![](https://img.cdn.aliyun.dcloud.net.cn/nativedocs/5SDKiOS/push/28606.png)


下载并双击打开证书，证书打开时会启动“钥匙串访问”工具。 
Download and double-click to open the certificate, and the Keychain Access tool will launch when the certificate is opened.
在“钥匙串访问”中你的证书会显示在“我的证书”中，注意选择“My Certificates” 和”login”
In "Keychain Access", your certificate will be displayed in "My Certificate", pay attention to select "My Certificates" and "login"
导出 .p12证书文件
Export a .p12 certificate file
在“钥匙串访问”中，选择刚刚加进来的证书，选择右键菜单中的“导出“...””。
In "Keychain Access", select the certificate you just added, and select "Export"..." in the right-click menu.

![](https://img.cdn.aliyun.dcloud.net.cn/nativedocs/5SDKiOS/push/28602.jpg)

将文件保存为Personal Information Exchange (.p12)格式。
Save the file in Personal Information Exchange (.p12) format.
注意：务必选择证书然后再导出。
![](https://img.cdn.aliyun.dcloud.net.cn/nativedocs/5SDKiOS/push/28613.png)

保存p12文件时，需为其设置密码，上传到uniPush或个推平台
When saving the p12 file, you need to set a password for it and upload it to uniPush or Getui platform

### Xcode配置
### Xcode configuration
在 “Signing&Capabilities” 配置项中，点击左上角的“Capability”按钮，添加“Push Notifications”项
In the "Signing&Capabilities" configuration item, click the "Capability" button in the upper left corner to add the "Push Notifications" item


<!-- 
**uniPush使用指南：http://ask.dcloud.net.cn/article/35622** 
**uniPush usage guide: http://ask.dcloud.net.cn/article/35622**
-->

### 常见问题排查步骤
### Troubleshooting steps for common problems

1. feature.plist 里的 Push结点 是否与 离线SDK文档一致
1. Whether the Push node in feature.plist is consistent with the offline SDK document
2. 确认自己的是push 1.0 还是2.0 的工程
2. Confirm whether your project is push 1.0 or 2.0
3. 推送证书 最近有没有变动过
3. Has the push certificate changed recently?
4. 联系管理员排查
4. Contact the administrator for troubleshooting

